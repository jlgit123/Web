<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <p>async test</p>

    <script src="https://cdn.bootcss.com/jquery/3.2.0/jquery.min.js"></script>
    <script type="text/javascript">
        //单线程-介绍1
        // console.log('start')
        // var i, sum = 0;
        // for (i = 0; i < 1000000000; i++) {
        //     sum++
        // }
        // console.log(sum)

        //单线程-介绍2 一直等着alert确认
        // console.log(100)
        // alert('hello world')
        // console.log(200)

        //单线程-异步2 一直等着alert确认
        // console.log(100)
        // setTimeout(function () {
        //     console.log(200)
        // }, 1000)
        // console.log(300)
        // console.log(400) //100 300 400 200

        
        //单线程-异步2 一直等着alert确认
        // console.log(100)
        // $.ajax({                       //jquery
        //     url: './data.json',
        //     success: function (result) {
        //         console.log(result)
        //     }
        // })
        // console.log(300)
        // console.log(400) //100 300 400 {"a": 100, "b": 200}

        //evenloop 场景（1）
        // setTimeout(function () {
        //     console.log(100)
        // })
        // console.log(200)  // 200 100

        //evenloop 场景（2）
        // setTimeout(function () {
        //     console.log(1)
        // }, 1000)
        // setTimeout(function () {
        //     console.log(2)
        // })
        // console.log(3)  //3 2 1

        //evenloop 场景（3）
        // $.ajax({
        //     url: './data.json',
        //     success: function () {
        //         console.log('a')
        //     }
        // })
        // setTimeout(function () {
        //     console.log('b')
        // }, 1000)
        // setTimeout(function () {
        //     console.log('c')
        // })
        // console.log('d')  //d c b a或者d c a b


        //jquery -deferred 介绍演示（1）
        //对修改开放，对扩展封闭
        // var ajax = $.ajax({
        //     url: './data.json',
        //     success: function () {
        //         console.log('success 1')
        //         console.log('success 2')
        //         console.log('success 3')
        //     },
        //     error: function () {
        //         console.log('error')
        //     }
        // })  //success 1 ;success 2; success 3
        // console.log(ajax)  //返回一个XHR对象

        //jquery -deferred 介绍演示（2）
        //对扩展开放，对修改封闭
        // var ajax = $.ajax('./data.json')
        // ajax.done(function () {
        //     console.log('success a')
        // }).fail(function () {
        //     console.log('fail 1')
        // }).done(function () {
        //     console.log('success b')
        // }).fail(function () {
        //     console.log('fail 2')
        // }).done(function () {
        //     console.log('success c')
        // }).fail(function () {
        //     console.log('fail 3')
        // })  //success a ;success b; success c
        // console.log(ajax)  //返回一个deferred对象

        //jquery -deferred 介绍演示（3）
        // 替换成.then(成功,失败)
        // var ajax = $.ajax('./data.json')
        // ajax.then(function () {
        //     console.log('success 100')
        // }, function () {
        //     console.log('fail 100')
        // }).then(function () {
        //     console.log('success 200')
        // }, function () {
        //     console.log('fail 200')
        // }).then(function () {
        //     console.log('success 300')
        // }, function () {
        //     console.log('fail 300')
        // })











    </script>
</body>
</html>